"use strict";var _createClass=function(){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Pagination=function(){function a(e,t){if(_classCallCheck(this,a),!e)throw new Error("方法必须传递参数，第一个为dom元素，第二个为对象");this.ele=e,this.options=t||{},this.default={pageInfo:{pagenum:1,pagesize:10,total:1e3,totalpage:100},textInfo:{first:"first",prev:"prev",list:"",next:"next",last:"last"}},this.change=this.options.change||function(){},this.list=null,this.init()}return _createClass(a,[{key:"init",value:function(){this.setDefault(),this.setStyle(),this.dongcidaci()}},{key:"setDefault",value:function(){if(this.options.pageInfo)for(var e in this.options.pageInfo)this.default.pageInfo[e]=this.options.pageInfo[e];if(this.options.textInfo)for(var t in this.options.textInfo)this.default.textInfo[t]=this.options.textInfo[t]}},{key:"setStyle",value:function(){this.ele.innerHTML="",setCss(this.ele,{display:"flex",justifyContent:"center",alignItems:"center"}),this.createEle(),this.creteList(),this.go(),this.isDis()}},{key:"createEle",value:function(){for(var e in this.default.textInfo){var t=document.createElement("div");"list"===(t.className=e)?setCss(this.list=t,{display:"flex",justifyContent:"center",alignItems:"center"}):setCss(t,{border:"1px solid #333",padding:"0 5px",margin:"0 5px"}),t.innerHTML=this.default.textInfo[e],this.ele.appendChild(t)}}},{key:"creteList",value:function(){var e=this.default.pageInfo.pagenum,t=this.default.pageInfo.totalpage;if(t<=9)for(var a=1;a<=this.default.pageInfo.totalpage;a++){var n=this.crealeP(a);this.list.appendChild(n)}else if(e<5){for(var i=1;i<=5;i++)this.list.appendChild(this.crealeP(i));var s=document.createElement("span");s.innerHTML="...",this.list.appendChild(s);for(var l=t-1;l<=t;l++)this.list.appendChild(this.crealeP(l))}else if(5===e){for(var o=1;o<=7;o++)this.list.appendChild(this.crealeP(o));var r=document.createElement("span");r.innerHTML="...",this.list.appendChild(r);for(var p=t-1;p<=t;p++)this.list.appendChild(this.crealeP(p))}else if(5<e&&e<t-4){for(var f=1;f<=2;f++)this.list.appendChild(this.crealeP(f));r=document.createElement("span");r.innerHTML="...",this.list.appendChild(r);for(var u=e-2;u<=e+2;u++)this.list.appendChild(this.crealeP(u));r=document.createElement("span");r.innerHTML="...",this.list.appendChild(r);for(var d=t-1;d<=t;d++)this.list.appendChild(this.crealeP(d))}else if(e===t-4){for(var h=1;h<=2;h++)this.list.appendChild(this.crealeP(h));var c=document.createElement("span");c.innerHTML="...",this.list.appendChild(c);for(var g=t-6;g<=t;g++)this.list.appendChild(this.crealeP(g))}else if(t-4<e){for(var m=1;m<=2;m++)this.list.appendChild(this.crealeP(m));c=document.createElement("span");c.innerHTML="...",this.list.appendChild(c);for(var v=t-4;v<=t;v++)this.list.appendChild(this.crealeP(v))}}},{key:"crealeP",value:function(e){var t=document.createElement("p");return t.innerHTML=e,setCss(t,{border:"1px solid #333",margin:"0 5px",padding:"0 5px"}),e===this.default.pageInfo.pagenum&&setCss(t,{backgroundColor:"orange"}),t}},{key:"go",value:function(){var e=document.createElement("input"),t=document.createElement("button");setCss(e,{outline:"none",width:"50px",height:"20px"}),e.value=this.default.pageInfo.pagenum,e.type="number",e.setAttribute("min","1"),e.setAttribute("max",this.default.pageInfo.totalpage),setCss(t,{outline:"none",width:"30px",height:"24px",marginLeft:"5px"}),t.innerHTML="go",this.ele.appendChild(e),this.ele.appendChild(t)}},{key:"isDis",value:function(){1===this.default.pageInfo.pagenum&&(this.ele.children[0].style.backgroundColor="#ccc",this.ele.children[1].style.backgroundColor="#ccc"),this.default.pageInfo.pagenum===this.default.pageInfo.totalpage&&(this.ele.children[3].style.backgroundColor="#ccc",this.ele.children[4].style.backgroundColor="#ccc")}},{key:"dongcidaci",value:function(){var t=this;this.ele.addEventListener("click",function(e){e=(e=e||window.event).target;"first"===e.className&&1!==t.default.pageInfo.pagenum&&(t.default.pageInfo.pagenum=1,t.setStyle()),"prev"===e.className&&1!==t.default.pageInfo.pagenum&&(t.default.pageInfo.pagenum--,t.setStyle()),"next"===e.className&&t.default.pageInfo.pagenum!==t.default.pageInfo.totalpage&&(t.default.pageInfo.pagenum++,t.setStyle()),"last"===e.className&&t.default.pageInfo.pagenum!==t.default.pageInfo.totalpage&&(t.default.pageInfo.pagenum=t.default.pageInfo.totalpage,t.setStyle()),"P"===e.nodeName&&+e.innerHTML!==t.default.pageInfo.pagenum&&(t.default.pageInfo.pagenum=+e.innerHTML,t.setStyle()),"BUTTON"===e.nodeName&&+e.previousElementSibling.value!==t.default.pageInfo.pagenum&&(t.default.pageInfo.pagenum=+e.previousElementSibling.value,t.setStyle()),t.change(t.default.pageInfo.pagenum)})}}]),a}();function setCss(e,t){for(var a in t)e.style[a]=t[a]}