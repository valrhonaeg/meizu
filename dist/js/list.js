"use strict";var getData=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function n(t,e){var o,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.ajax({url:"../api/goodList.php",method:"get",data:{index:t,length:e},dataType:"json",success:function(n){console.log(n)}});case 2:o=n.sent,console.log(o),flag&&new Pagination(box,{pageInfo:{pagenum:t,pagesize:e,total:o.total,totalpage:Math.ceil(o.total/e)},textInfo:{first:"首页",prev:"上一页",next:"下一页",last:"末页"},change:function(n){flag=!1,getData(n,20)}}),render(o.list),(r=$("#fuzzy_search")).on("keyup",function(){var t=r.val();render(o.list.filter(function(n){return-1!=n.goods_name.indexOf(t)||-1!=n.goods_introduce.indexOf(t)}))});case 8:case"end":return n.stop()}},n,this)}));return function(n,t){return e.apply(this,arguments)}}();function _asyncToGenerator(n){return function(){var c=n.apply(this,arguments);return new Promise(function(a,i){return function t(n,e){try{var o=c[n](e),r=o.value}catch(n){return void i(n)}if(!o.done)return Promise.resolve(r).then(function(n){t("next",n)},function(n){t("throw",n)});a(r)}("next")})}}getData(1,20);var box=document.querySelector("#box"),bbox=document.querySelector(".box"),flag=!0;function render(n){var e="";n.forEach(function(n,t){e+='<div>\n    <ol class="breadcrumb">\n        <li><a href="#">'+n.goods_introduce+'</a></li>\n    </ol>\n    <div>\n        <div class="row">\n            <div class="col-lg-12">\n                <div class="thumbnail">\n                    <img src="'+n.goods_logo+'" alt="...">\n                    <div class="caption">\n                        <h3>'+n.goods_name+'</h3>\n                        <div class="price">\n                            <i class="glyphicon glyphicon-yen"></i>\n                            <span>'+n.goods_price+'</span>\n                        </div>\n                        <p>\n                            <a href="./car.html" class="btn btn-primary" role="button">查看购物车</a>\n                            <a href="http://test.cn/meizu/src/html/xiangqinye.html?id='+n.id+'" class="btn btn-default" role="button">查看商品详情</a>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),bbox.innerHTML=e}